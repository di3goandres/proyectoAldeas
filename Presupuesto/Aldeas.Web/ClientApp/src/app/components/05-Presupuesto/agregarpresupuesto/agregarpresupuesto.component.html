<mat-card class="example-card">
    <mat-card-header>
        <div mat-card-avatar class="example-header-image" style="background-image: url('assets/avatars/av-2.png')"></div>
        <mat-card-title class="main-green-text">gregar Presupuesto: {{datoRubro.nombre | uppercase}}</mat-card-title>
        <mat-card-subtitle>Agregar</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>


        <div *ngIf="datoRubro.esNomina === true">
            <form [formGroup]="formgroupNomina">
                <div class="row">

                    <div class="col-6 tabla">
                        <mat-form-field appearance="fill">
                            <mat-label>No. Identificación</mat-label>
                            <input matInput placeholder="Número de Identificación"
                             type="number"
                                [(ngModel)]="guardar.NumeroIdentificacion" (change)="validarFomularios()"
                                 formControlName="numeroIdentificacion" required>
                        </mat-form-field>
                    </div>

                    <div class="col-6 tabla">
                        <mat-form-field appearance="fill">
                            <mat-label>Nombre</mat-label>
                            <input matInput placeholder="Nombre" [(ngModel)]="guardar.Nombre" (change)="validarFomularios()"
                             formControlName="Nombre"
                                required>
                        </mat-form-field>
                    </div>

                </div>

                <div class="row">

                    <div class="col-6 tabla">
                        <mat-form-field appearance="fill">
                            <mat-label>% Asignación</mat-label>
                            <input matInput placeholder="% Asignación" type="number" min="1" max="100" 
                            (change)="validarFomularios()"
                                [(ngModel)]="guardar.Asignacion" formControlName="asignacion" required>
                        </mat-form-field>
                    </div>

                    <div class="col-6 tabla">
                        <mat-form-field appearance="fill">
                            <mat-label>Cargo {{guardar.Cargo}}</mat-label>
                            <input matInput placeholder="Cargo" [(ngModel)]="guardar.Cargo" type="text"
                            (change)="validarFomularios()"
                             formControlName="cargo"
                                required>
                        </mat-form-field>
                    </div>

                </div>
            </form>
        </div>

        <div  *ngIf="datoRubro.esppto === true">
            <form [formGroup]="formgroupFamiliar">
                <div class="row">

                    <div class="col-6 tabla">
                        <mat-form-field appearance="fill">
                            <mat-label>No. de Casa</mat-label>
                            <input matInput placeholder="Número de Identificación"
                             type="number"  min="1" max="15"
                             (ngModelChange)="validarFomularios()"
                                [(ngModel)]="guardar.NoCasa"
                                 formControlName="NoCasa" required>
                        </mat-form-field>
                    </div>

                    <div class="col-6 tabla">
                        <mat-form-field appearance="fill">
                            <mat-label>No. de Niños</mat-label>
                            <input matInput placeholder="Nombre"
                            (ngModelChange)="validarFomularios()"
                            type="number" min="1" max="15"
                            [(ngModel)]="guardar.NoKids"
                             formControlName="NoKids"
                                required>
                        </mat-form-field>
                    </div>

                </div>

            
            </form>
        </div>

        <form [formGroup]="formgroupNormal">
            <div class="row">

                <div class="col-12 tabla">
                    <mat-form-field appearance="fill">
                        <mat-label>Valor Anual</mat-label>
                        <input matInput placeholder="Valor Anual"
                       
                         type="number"
                            [(ngModel)]="valorMensual" (ngModelChange)="Cambiar()"
                             formControlName="valor" required>
                    </mat-form-field>
                </div>

               
            </div>

            <div class="row">

                <div class="col-12 tabla">
                    <mat-form-field appearance="fill">
                        <mat-label>Detalle Gasto</mat-label>
                        <input matInput placeholder="Detalle Gasto"
                        (ngModelChange)="validarFomularios()"
                            [(ngModel)]="guardar.DetalleGasto" 
                             formControlName="detalleGasto" required>
                    </mat-form-field>
                </div>

               
            </div>


            <div class="row"  *ngIf="dataPuc.requiereNotaIngles === true">

                <div class="col-12 tabla">
                    <mat-form-field appearance="fill">
                        <mat-label>Nota Ingles</mat-label>
                        <input matInput placeholder="Nota Ingles"
                        (ngModelChange)="validarFomularios()"
                            [(ngModel)]="guardar.DetalleGasto" 
                             formControlName="Ingles" required>
                    </mat-form-field>
                </div>

               
            </div>

           
        </form>

        <div class="row">
            <div class="col-12">
                <app-listcheck [task]="presupuestoCheck" Nombre='Presupuesto Anual'
                    (datoSalid)='onNotificar($event, "Etnico")'></app-listcheck>
            </div>
        </div>
        <div class="mat-elevation-z8  table-responsive">
            <table id="customers" #pucs mat-table [dataSource]="dataSource" matSort  style="width:100%;">
                <!-- Progress Column -->
                <ng-container matColumnDef="Enero">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Ene </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Enero|number}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="Febrero">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Feb </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Febrero|number}} </td>
                </ng-container>

                <!-- Color Column -->
                <ng-container matColumnDef="Marzo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Mar</th>
                    <td mat-cell *matCellDef="let row">$ {{row.Marzo|number}} </td>
                </ng-container>
                <ng-container matColumnDef="Abril">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Abr </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Abril |number}} </td>
                </ng-container>
                <ng-container matColumnDef="Mayo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>May </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Mayo|number}} </td>
                </ng-container>
                <ng-container matColumnDef="Junio">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Jun </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Junio|number}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

              
            </table>

            <table id="customers" mat-table [dataSource]="dataSource"  style="width:100%;">

                <ng-container matColumnDef="Julio">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Jul </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Julio|number}} </td>
                </ng-container>

                <ng-container matColumnDef="Agosto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Ago </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Agosto|number}} </td>
                </ng-container>
                <ng-container matColumnDef="Septiembre">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Sept </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Septiembre|number}} </td>
                </ng-container>

                <ng-container matColumnDef="Octubre">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Oct </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Octubre|number}} </td>
                </ng-container>
                <ng-container matColumnDef="Noviembre">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nov </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Noviembre|number}} </td>
                </ng-container>

                <ng-container matColumnDef="Diciembre">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Dic </th>
                    <td mat-cell *matCellDef="let row"> ${{row.Diciembre|number}} </td>
                </ng-container>
               
               
                <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
            </table>

          
        </div>


    </mat-card-content>
    <mat-card-actions>

        <button mat-raised-button ngbAutofocus (click)="cerrar()">Cancelar</button>
        <button mat-raised-button ngbAutofocus [disabled]="!permitirGuardar"
         (click)="guardarData()">Guardar</button>


    </mat-card-actions>
</mat-card>